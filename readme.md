# MQ handler
## Описание
Обработчик сообщений на кафке, фреймворк segmentio/kafka-go. Обработчик принимает данные о документах, четкая структура которых будет обозначена в условии. На выходе формируется запись с актуальными данными. Фильтрация и обновление происходит посредством сравнения сообщения с кэшем, хранящимся в бд. Разворачивается приложение докером, основные сервисы запускаются стандартной командой, остальные через флаги отмеченных профилей.


## Условие
На вход сервису поступают обновления документов..
message TDocument (
    string Url 1: // URL, документа, его уникальный идентификатор
    uint64 PubDate = 2: // время заявляемой публикации документа uint64 Fetch Time 3; // время получения данного обновления документа, может рассматриваться как идентификатор версии. Пара (Url. Fetch Time) уникальна.
    string Text = 4: // текст документа
    uint64 FirstFetchTime 5: // изначально отсутствует - необходимо заполнить
)    


Необходимо на выходе формировать такие же сообщения так, чтобы в каждый момент времени мы берём PubDate и FirstFetch Time от самой первой из полученных на данный момент версий (если отсортировать их по Fetch Time), a Text от самой последней. Документы поступают в произвольном порядке (не в том, как они обновлялись), дубликаты не исключены отдельных сообщений.


Более формально:
- Поля Text и Fetch Time должны быть такими, какими были в
документе с наибольшим Fetch Time, полученным на данный момент.
- Поле PubDate должно быть таким, каким было у сообщения с
наименьшим Fetch Time,
- Поле FirstFetch Time должно быть равно минимальному значению Fetch Time


## headername
upd:\
\- пробросил ошибки для process()\
\- тестовые примеры добавлены в producer-random. в `example.json` содержатся объекты Document с разным временем обновления и временем публикации\
\- process() пока все еще постит циклом, без использования каналов\


## Навскидку схема
main\
\- zookeeper\
\- kafka\
\- postgres-db\
other\
\- kafka-ui\
\- process-script // скрипт, который работает по логике, описанной в тестовом\
\- produser-random // пушит тестовые сообщения в очередть topic1
\- db-init // скрипт для создания таблицы в бд\

